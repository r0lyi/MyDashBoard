<template>
  <ion-page>
    <ion-header :translucent="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button color="primary"></ion-menu-button>
        </ion-buttons>
        <ion-title>üéØ KPIs</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content :fullscreen="true" class="ion-padding">
      <ion-header collapse="condense">
        <ion-toolbar>
          <ion-title size="large">üéØ KPIs</ion-title>
        </ion-toolbar>
      </ion-header>

      <h1 class="ion-padding">üöÄ KPIs de Negocio</h1>
      <ion-accordion-group expand="inset" :multiple="true">
        <ion-accordion v-for="item in businessKpis" :key="item.id" :value="item.id.toString()">
          <ion-item slot="header">
            <ion-label>{{ item.id }}. {{ item.title }}</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">
            <p>{{ item.description }}</p>
            <ion-list :inset="true">
              <ion-item v-for="(element, index) in item.smart" :key="index">
                <ion-label><b>{{ element.letter }}</b> ‚Üí {{ element.content }}</ion-label>
              </ion-item>
            </ion-list>
          </div>
        </ion-accordion>
      </ion-accordion-group>
      <br>
      <h1 class="ion-padding">üìà KPIs T√©cnicos</h1>
      <ion-accordion-group expand="inset" :multiple="true">
        <ion-accordion v-for="item in technicalKpis" :key="item.id" :value="item.id.toString()">
          <ion-item slot="header">
            <ion-label>{{ item.id }}. {{ item.title }}</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">
            <p>{{ item.description }}</p>
            <ion-list :inset="true">
              <ion-item v-for="(element, index) in item.smart" :key="index">
                <ion-label><b>{{ element.letter }}</b> ‚Üí {{ element.content }}</ion-label>
              </ion-item>
            </ion-list>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </ion-content>
  </ion-page>
</template>

<script setup lang="ts">
import { IonButtons, IonContent, IonHeader, IonMenuButton, IonPage, IonTitle, IonToolbar, IonAccordionGroup, IonAccordion, IonItem, IonLabel, IonList } from '@ionic/vue';
import { ref } from 'vue';

// Definici√≥n de la estructura de datos para un objetivo SMART
interface SmartElement {
  letter: string;
  content: string;
}

interface SmartGoal {
  id: number;
  title: string;
  description: string;
  smart: SmartElement[];
}

// Array de KPIs de NEGOCIO (mantenemos los que ya revisamos)
const businessKpis = ref<SmartGoal[]>([
  {
    id: 1,
    title: "Consolidar Deporte Estrella (F√∫tbol)",
    description: "Asegurar que el F√∫tbol se mantenga como nuestro producto estrella, apuntando a un incremento del 10% en ingresos por ventas de equipamiento de f√∫tbol (de $3624 a $3986) en los pr√≥ximos 3 meses. Esto lo lograremos con promociones exclusivas para packs de camisetas y balones, y campa√±as de marketing dirigidas a clubes locales.",
    smart: [
      { letter: "S", content: "Incrementar ingresos por f√∫tbol en un 10%." },
      { letter: "M", content: "10% adicional sobre $3624 (llegar a $3986)." },
      { letter: "A", content: "Implementar promociones de packs y campa√±as en clubes locales." },
      { letter: "R", content: "Fortalecer la posici√≥n de mercado del f√∫tbol y la rentabilidad." },
      { letter: "T", content: "En los pr√≥ximos 3 meses." }
    ]
  },
  {
    id: 2,
    title: "Elevar Ticket Promedio Diario",
    description: "Aumentar nuestras ventas totales diarias en un 15% (apuntando de $3624 a $4168) antes de que finalice el mes. Nos centraremos en la venta cruzada en el carrito de compra y la oferta de productos complementarios al finalizar la transacci√≥n.",
    smart: [
      { letter: "S", content: "Aumentar ventas diarias en un 15%." },
      { letter: "M", content: "15% (de $3624 a $4168)." },
      { letter: "A", content: "Optimizar la venta cruzada y ofertas complementarias." },
      { letter: "R", content: "Impulsar el crecimiento general y la eficiencia en el proceso de compra." },
      { letter: "T", content: "Para final de mes." }
    ]
  },
  {
    id: 3,
    title: "Potenciar Tr√°fico Cualificado en Web",
    description: "Incrementar nuestras visitas web por hora en un 20% (pasando de 96 a 115 visitantes) en las pr√≥ximas 4 semanas. Esto se lograr√° con una estrategia de contenidos SEO mejorada y publicaciones m√°s frecuentes y atractivas en Instagram y TikTok.",
    smart: [
      { letter: "S", content: "Incrementar visitas web por hora en un 20%." },
      { letter: "M", content: "20% (de 96 a 115 visitas)." },
      { letter: "A", content: "Mejorar SEO y aumentar publicaciones en redes sociales." },
      { letter: "R", content: "Aumentar el reconocimiento de marca y la captaci√≥n de clientes potenciales." },
      { letter: "T", content: "En las pr√≥ximas 4 semanas." }
    ]
  },
  {
    id: 4,
    title: "Maximizar Venta de Productos Top",
    description: "Conseguir un aumento del 25% en la venta de nuestros art√≠culos 'top' (de 26 a 33 unidades) en la pr√≥xima quincena. Daremos prioridad a la visibilidad de 'Zapatillas Running' y 'Leggings Deportivos' en la p√°gina de inicio y en campa√±as de email marketing.",
    smart: [
      { letter: "S", content: "Aumentar venta de productos 'top' en un 25%." },
      { letter: "M", content: "25% (de 26 a 33 unidades)." },
      { letter: "A", content: "Priorizar 'Zapatillas Running' y 'Leggings Deportivos' en web y email." },
      { letter: "R", content: "Asegurar el movimiento de stock de productos clave y la rentabilidad." },
      { letter: "T", content: "En la pr√≥xima quincena." }
    ]
  },
  {
    id: 5,
    title: "Fortalecer Lealtad del Cliente",
    description: "Elevar el √≠ndice de Satisfacci√≥n del Cliente a un 90% (desde el 85% actual) en los pr√≥ximos 3 meses. Esto implicar√° un seguimiento m√°s r√°pido a consultas de soporte y la implementaci√≥n de un programa de fidelizaci√≥n con descuentos especiales.",
    smart: [
      { letter: "S", content: "Elevar la Satisfacci√≥n del Cliente al 90%." },
      { letter: "M", content: "90% (desde el 85% actual)." },
      { letter: "A", content: "Mejorar tiempos de respuesta de soporte y lanzar programa de fidelizaci√≥n." },
      { letter: "R", content: "Incrementar la retenci√≥n de clientes y la percepci√≥n positiva de la marca." },
      { letter: "T", content: "En los pr√≥ximos 3 meses." }
    ]
  },
  {
    id: 6,
    title: "Expandir Huella Europea (Ventas)",
    description: "Conseguir un crecimiento del 18% en las ventas de las principales regiones europeas (Francia, Alemania, Espa√±a, Reino Unido) en los pr√≥ximos 6 meses. Organizaremos eventos de lanzamiento de productos en ciudades clave y colaboraremos con influencers deportivos locales.",
    smart: [
      { letter: "S", content: "Lograr un crecimiento del 18% en ventas en regiones europeas clave." },
      { letter: "M", content: "18% en Francia, Alemania, Espa√±a, Reino Unido." },
      { letter: "A", content: "Organizar eventos de lanzamiento y colaborar con influencers locales." },
      { letter: "R", content: "Aumentar la cuota de mercado en Europa y diversificar los ingresos." },
      { letter: "T", content: "En los pr√≥ximos 6 meses." }
    ]
  },
  {
    id: 7,
    title: "Incrementar Participaci√≥n en Eventos Deportivos",
    description: "Aumentar las inscripciones en nuestros eventos deportivos en un 25% en los pr√≥ximos 4 meses, poniendo √©nfasis en la captaci√≥n equitativa de hombres y mujeres. Lanzaremos campa√±as segmentadas por g√©nero y deporte en plataformas deportivas y gimnasios asociados.",
    smart: [
      { letter: "S", content: "Aumentar inscripciones en eventos en un 25%." },
      { letter: "M", content: "25% m√°s de inscritos (buscando equilibrio por g√©nero)." },
      { letter: "A", content: "Lanzar campa√±as segmentadas en plataformas y gimnasios." },
      { letter: "R", content: "Fomentar la comunidad deportiva y aumentar la visibilidad de la marca." },
      { letter: "T", content: "En los pr√≥ximos 4 meses." }
    ]
  }
]);

// Array de KPIs T√âCNICOS (actualizados para reflejar la imagen de m√©tricas t√©cnicas)
const technicalKpis = ref<SmartGoal[]>([
  {
    id: 1,
    title: "Optimizar Rendimiento General del Servidor",
    description: "Mantener el tr√°fico promedio del servidor por debajo de 600 RPM (Requests Per Minute) y el tiempo de carga promedio por debajo de 250ms durante las horas pico en el pr√≥ximo mes. Esto lo lograremos optimizando el c√≥digo base y ajustando la configuraci√≥n del servidor web.",
    smart: [
      { letter: "S", content: "Mantener tr√°fico servidor < 600 RPM y tiempo de carga < 250ms." },
      { letter: "M", content: "600 RPM y 250ms en las horas pico." },
      { letter: "A", content: "Optimizar c√≥digo y configuraci√≥n del servidor web." },
      { letter: "R", content: "Garantizar una experiencia de usuario r√°pida y fluida." },
      { letter: "T", content: "En el pr√≥ximo mes." }
    ]
  },
  {
    id: 2,
    title: "Reducir Errores y Mejorar Estabilidad Web",
    description: "Disminuir los errores web (c√≥digos 5xx/4xx) a menos de 5 por hora en promedio, y asegurar que la latencia de la API no supere los 200ms m√°s del 5% del tiempo en las pr√≥ximas dos semanas. Revisaremos logs de errores y optimizaremos las rutas cr√≠ticas de la API.",
    smart: [
      { letter: "S", content: "Reducir errores web (<5/hora) y latencia API (<200ms, 5% del tiempo)." },
      { letter: "M", content: "Menos de 5 errores/hora; latencia <200ms por debajo del umbral 5%." },
      { letter: "A", content: "Revisar logs de errores y optimizar rutas API cr√≠ticas." },
      { letter: "R", content: "Minimizar interrupciones y mejorar la fiabilidad del servicio." },
      { letter: "T", content: "En las pr√≥ximas dos semanas." }
    ]
  },
  {
    id: 3,
    title: "Controlar Temperatura del Servidor y Consumo de Recursos",
    description: "Mantener la temperatura del servidor por debajo de 50¬∞C de forma sostenida y el uso de CPU/Memoria Utilizada por debajo del 80% durante las horas de mayor demanda en el pr√≥ximo trimestre. Esto implicar√° optimizar la gesti√≥n de procesos y revisar la asignaci√≥n de recursos.",
    smart: [
      { letter: "S", content: "Mantener Temp. Servidor < 50¬∞C y uso CPU/Memoria < 80%." },
      { letter: "M", content: "Temperatura < 50¬∞C; CPU/Memoria < 80% en picos." },
      { letter: "A", content: "Optimizar procesos y revisar asignaci√≥n de recursos." },
      { letter: "R", content: "Prevenir sobrecalentamiento, fallos de hardware y cuellos de botella." },
      { letter: "T", content: "En el pr√≥ximo trimestre." }
    ]
  },
  {
    id: 4,
    title: "Optimizar el Rendimiento de Microservicios y Base de Datos",
    description: "Asegurar que la utilizaci√≥n de 'Servidor Web' y 'Base de Datos' se mantenga por debajo del 75%, y 'Microservicios' por debajo del 65% en las pr√≥ximas 4 semanas. Identificaremos y refactorizaremos las consultas m√°s pesadas y los microservicios con mayor consumo.",
    smart: [
      { letter: "S", content: "Mantener uso de Servidor Web y BD < 75%, Microservicios < 65%." },
      { letter: "M", content: "Servidor Web < 75%, BD < 75%, Microservicios < 65%." },
      { letter: "A", content: "Identificar y refactorizar consultas pesadas y microservicios intensivos." },
      { letter: "R", content: "Garantizar la escalabilidad y respuesta de los componentes clave." },
      { letter: "T", content: "En las pr√≥ximas 4 semanas." }
    ]
  },
  {
    id: 5,
    title: "Mejorar la Eficiencia de la Carga de Procesador",
    description: "Reducir la carga de procesador promedio en un 10% en el pr√≥ximo mes, especialmente durante los picos de tr√°fico. Esto se lograr√° mediante la implementaci√≥n de caching m√°s agresivo y la optimizaci√≥n de los algoritmos de procesamiento de datos.",
    smart: [
      { letter: "S", content: "Reducir la carga de procesador promedio en un 10%." },
      { letter: "M", content: "10% de reducci√≥n en carga promedio." },
      { letter: "A", content: "Implementar caching y optimizar algoritmos." },
      { letter: "R", content: "Liberar recursos de CPU para una mejor respuesta general del sistema." },
      { letter: "T", content: "En el pr√≥ximo mes." }
    ]
  }
]);
</script>

<style scoped>
ion-accordion.accordion-collapsing ion-item[slot='header'],
ion-accordion.accordion-collapsed ion-item[slot='header'] {
  --background: var(--ion-color-light);
  --color: var(--ion-color-light-contrast);
}

ion-accordion.accordion-expanding ion-item[slot='header'],
ion-accordion.accordion-expanded ion-item[slot='header'] {
  --background: rgba(var(--ion-color-primary-rgb), 0.14);
  color: var(--ion-color-primary);
}
</style>